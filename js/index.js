setConfig();setVersion();setContact();setSponsor();setLinks();function setConfig(){ajax('GET','https://api.aidepro.repl.co/web',false,false,function(success,data){setLoading('安全检查中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;let icon=_data.icon;let name=_data.name;let desc=_data.desc;let keyword=_data.keyword;let author=_data.author;let copyright=_data.copyright;let cover=_data.cover;let screenshot=_data.screenshot;let info=_data.info;let down=_data.downloads;document.querySelector('link[rel="shortcut icon"]').src=icon;document.title=name;document.querySelector('meta[name=description]').content=desc;document.querySelector('meta[name=keywords]').content=keyword;document.querySelector('meta[name=author]').content=author;document.querySelector('meta[name=copyright]').content=copyright;document.querySelector('.oiEt0d').src=cover;document.querySelector('.T75of.cN0oRe.fFmL2e').src=icon;document.querySelector('.T75of.QhHVZd').src=icon;document.querySelector('.Vbfug.auoIOc').innerText=name.replace('AIDE','');document.querySelector('.ulKokd').innerText=desc;setInfo(false,down,false);setScreenshot(screenshot);document.querySelector('.bARER>html-blob').innerHTML=replaceNewline(info);document.querySelector('.yVZQTb').innerHTML='Powered By <a target="_blank" href="http://s1243808733.top">'+copyright+'</a>'}})}function setScreenshot(data){let content='';for(var i=0;i<data.length;i++){content+='<div class="ULeU3b Utde2e">		<div class="Atcj9b">		<img src="'+data[i]+'" class="T75of B5GQxf">		</div>		</div>'}document.querySelector('.aoJE7e.qwPPwf').innerHTML=content}function setVersion(){ajax('GET','https://api.aidepro.repl.co/version/last',false,false,function(success,data){setLoading('查询版本中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;let versionCode=_data.versionCode;let versionName=_data.versionName;let minVersion=_data.minVersion;let targetVersion=_data.targetVersion;let updateLog=_data.updateLog;let downloadUrl=_data.downloadUrl;let fileSize=_data.fileSize;let updateTime=_data.updateTime;setInfo(bytesToSize(fileSize),false,stampToDate(updateTime*1000,'Y-m-d'));document.querySelector('.u4ICaf.fg1d2g>div>a').href=downloadUrl;document.querySelector('.VAgTTd.LMcLV>div>div>div>a').href=downloadUrl;document.querySelectorAll('.HcyOxe>.cswwxf>.VMq4uf')[1].innerText='V'+versionName;document.querySelector('c-wiz>section>.SfzRHd').innerHTML=replaceNewline(updateLog)}})}function setInfo(versionName,downloads,updateTime){let obj=document.querySelectorAll('.w7Iutd>.wVqUob>.ClM7O');if(versionName){obj[0].innerText=versionName}if(downloads){obj[1].innerText=downloads}if(updateTime){obj[2].innerText=updateTime}}function setContact(){ajax('GET','https://api.aidepro.repl.co/contact',false,false,function(success,data){setLoading('检测网络中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;_setContact(_data)}})}function _setContact(data){let obj=document.querySelectorAll('.o45e4d>c-wiz>section>div>.vfQhrf.BxIr0d>div>div>a>.pZ8Djf>.pSEeg');let _obj=document.querySelectorAll('.o45e4d>c-wiz>section>div>.vfQhrf.BxIr0d>div>div>a');obj[0].innerText=data.source[0];_obj[0].href=data.source[1];obj[1].innerText=data.group[0];_obj[1].href=data.group[1];obj[2].innerText=data.guild[0];_obj[2].href=data.guild[1]}function setLinks(){ajax('GET','https://api.aidepro.repl.co/links',false,false,function(success,data){setLoading('检测环境中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;addLinks(_data)}})}function setSponsor(){ajax('GET','https://api.aidepro.top/sponsor',false,false,function(success,data){setLoading('获取数据中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;document.querySelectorAll('.Uc6QCc>.VMq4uf')[0].innerText='已有'+data.total_people+'人赞助';addSponsor(_data)}})}function addSponsor(data){for(var i=0;i<data.length;i++){let div=document.createElement('div');div.classList.add('VfPpkd-LgbsSe','VfPpkd-LgbsSe-OWXEXe-INsAgc','VfPpkd-LgbsSe-OWXEXe-dgl2Hf','Rj2Mlf','OLiIxf','PDpWxe','P62QJc','LQeN7','LMoCf');let content='<img src="'+data[i].avatar+'" class="abYEib" style="margin-left: -16px;margin-right: 8px;">		<span class="VfPpkd-vQzf8d">'+data[i].name+'</span>      <canvas style="position:absolute;pointer-events:none;"></canvas>';div.innerHTML=content;document.querySelectorAll('.Uc6QCc>div')[0].append(div);let myElement=div.querySelector('span');div.addEventListener('click',function(event){let x=event.clientX;let y=event.clientY;let myCanvas=div.querySelector('canvas');let myConfetti=confetti.create(myCanvas,{useWorker:true});myConfetti({startVelocity:10,spread:180})})}let div2=document.createElement('div');div2.classList.add('VfPpkd-LgbsSe','VfPpkd-LgbsSe-OWXEXe-INsAgc','VfPpkd-LgbsSe-OWXEXe-dgl2Hf','Rj2Mlf','OLiIxf','PDpWxe','P62QJc','LQeN7','LMoCf');let content2='<span class="VfPpkd-vQzf8d">我要赞助</span>		<a class="WpHeLc VfPpkd-mRLv6 VfPpkd-RLmnJb" target="_blank" href="https://afdian.net/order/create?plan_id=80adf53e829011edac0a52540025c377"></a>';div2.innerHTML=content2;document.querySelectorAll('.Uc6QCc>div')[0].append(div2)}function addLinks(data){let content='';for(var i=0;i<data.length;i++){content+='<div class="VfPpkd-LgbsSe VfPpkd-LgbsSe-OWXEXe-INsAgc VfPpkd-LgbsSe-OWXEXe-dgl2Hf Rj2Mlf OLiIxf PDpWxe P62QJc LQeN7 LMoCf">		<span class="VfPpkd-vQzf8d">'+data[i].name+'</span>		<a class="WpHeLc VfPpkd-mRLv6 VfPpkd-RLmnJb" target="_blank" href="'+data[i].url+'"></a>		</div>'}document.querySelectorAll('.Uc6QCc>div')[1].innerHTML=content}function setLoading(str){let value=parseFloat(document.querySelector('.first-indicator').style.transform.split('(')[1].split(')')[0]);value=value?value:0;value+=0.2;document.querySelector('.loading-message').innerText=str;document.querySelector('.first-indicator').style.transform='scaleX('+value+')';if(value>=1){setTimeout(function(){document.body.style.overflow='auto';document.querySelector('#console-splash-021280').style.opacity=0;document.querySelector('#console-splash-021280').style.display='none'},300)}}
