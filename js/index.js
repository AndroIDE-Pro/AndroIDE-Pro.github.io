setConfig();setVersion();setContact();setLinks();function setConfig(){ajax('GET','https://api.aidepro.repl.co/web',false,false,function(success,data){setLoading('安全检查中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;let icon=_data.icon;let name=_data.name;let desc=_data.desc;let keyword=_data.keyword;let author=_data.author;let copyright=_data.copyright;let cover=_data.cover;let screenshot=_data.screenshot;let info=_data.info;let down=_data.downloads;document.querySelector('link[rel="shortcut icon"]').src=icon;document.title=name;document.querySelector('meta[name=description]').content=desc;document.querySelector('meta[name=keywords]').content=keyword;document.querySelector('meta[name=author]').content=author;document.querySelector('meta[name=copyright]').content=copyright;document.querySelector('.oiEt0d').src=cover;document.querySelector('.T75of.cN0oRe.fFmL2e').src=icon;document.querySelector('.T75of.QhHVZd').src=icon;document.querySelector('.Vbfug.auoIOc').innerText=name.replace('AIDE','');document.querySelector('.ulKokd').innerText=desc;setInfo(false,down,false);setScreenshot(screenshot);document.querySelector('.bARER>html-blob').innerHTML=replaceNewline(info);document.querySelector('.yVZQTb').innerHTML='Powered By <a target="_blank" href="http://s1243808733.top">'+copyright+'</a>'}})}function setScreenshot(data){let content='';for(var i=0;i<data.length;i++){content+='<div class="ULeU3b Utde2e">		<div class="Atcj9b">		<img src="'+data[i]+'" class="T75of B5GQxf">		</div>		</div>'}document.querySelector('.aoJE7e.qwPPwf').innerHTML=content}function setVersion(){ajax('GET','https://api.aidepro.repl.co/version/last',false,false,function(success,data){setLoading('查询版本中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;let versionCode=_data.versionCode;let versionName=_data.versionName;let minVersion=_data.minVersion;let targetVersion=_data.targetVersion;let updateLog=_data.updateLog;let downloadUrl=_data.downloadUrl;let fileSize=_data.fileSize;let updateTime=_data.updateTime;setInfo(bytesToSize(fileSize),false,stampToDate(updateTime*1000,'Y-m-d'));document.querySelector('.u4ICaf.fg1d2g>div>a').href=downloadUrl;document.querySelector('.VAgTTd.LMcLV>div>div>div>a').href=downloadUrl;document.querySelectorAll('.HcyOxe>.cswwxf>.VMq4uf')[1].innerText='V'+versionName;document.querySelector('c-wiz>section>.SfzRHd').innerHTML=replaceNewline(updateLog)}})}function setInfo(versionName,downloads,updateTime){let obj=document.querySelectorAll('.w7Iutd>.wVqUob>.ClM7O');if(versionName){obj[0].innerText=versionName}if(downloads){obj[1].innerText=downloads}if(updateTime){obj[2].innerText=updateTime}}function setContact(){ajax('GET','https://api.aidepro.repl.co/contact',false,false,function(success,data){setLoading('检测网络中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;_setContact(_data)}})}function _setContact(data){let obj=document.querySelectorAll('.o45e4d>c-wiz>section>div>.vfQhrf.BxIr0d>div>div>a>.pZ8Djf>.pSEeg');let _obj=document.querySelectorAll('.o45e4d>c-wiz>section>div>.vfQhrf.BxIr0d>div>div>a');obj[0].innerText=data.source[0];_obj[0].href=data.source[1];obj[1].innerText=data.group[0];_obj[1].href=data.group[1];obj[2].innerText=data.guild[0];_obj[2].href=data.guild[1]}function setLinks(){ajax('GET','https://api.aidepro.repl.co/links',false,false,function(success,data){setLoading('检测环境中...');if(!success){return}let code=data.code;if(code==200){let _data=data.data;addLinks(_data)}})}function addLinks(data){let content='';for(var i=0;i<data.length;i++){content+='<div class="VfPpkd-LgbsSe VfPpkd-LgbsSe-OWXEXe-INsAgc VfPpkd-LgbsSe-OWXEXe-dgl2Hf Rj2Mlf OLiIxf PDpWxe P62QJc LQeN7 LMoCf">		<span class="VfPpkd-vQzf8d">'+data[i].name+'</span>		<a class="WpHeLc VfPpkd-mRLv6 VfPpkd-RLmnJb" target="_blank" href="'+data[i].url+'"></a>		</div>'}document.querySelector('.Uc6QCc>div').innerHTML=content}function setLoading(str){let value=parseFloat(document.querySelector('.first-indicator').style.transform.split('(')[1].split(')')[0]);value=value?value:0;value+=0.25;document.querySelector('.loading-message').innerText=str;document.querySelector('.first-indicator').style.transform='scaleX('+value+')';if(value>=1){setTimeout(function(){document.body.style.overflow='auto';document.querySelector('#console-splash-021280').style.opacity=0;document.querySelector('#console-splash-021280').style.display='none'},300)}}function bytesToSize(a){if(a===0)return"0 B";var b=1024,c=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],d=Math.floor(Math.log(a)/Math.log(b));return(a/Math.pow(b,d)).toPrecision(5)+" "+c[d]}function stampToDate(a,b){b=b||'Y-m-d';var c=function(d){if(d<10){return'0'+d}return d};var e=a?new Date(a):new Date();var f=e.getFullYear();var g=c(e.getMonth()+1);var h=c(e.getDate());var i=c(e.getHours());var j=c(e.getMinutes());var k=c(e.getSeconds());return b.replace(/Y|m|d|H|i|s/ig,function(l){return({Y:f,m:g,d:h,H:i,i:j,s:k})[l]})}function replaceNewline(a){a=a.replace(/(\r\n|\n|\r)/g,"<br/>");a=a.replace(/(\\r\\n|\\n|\\r)/g,"<br/>");return a}function ajax(type,url,data,head,callback){let mXMLHttpRequest=new XMLHttpRequest();mXMLHttpRequest.open(type,url,true);if(head){for(var i in head){mXMLHttpRequest.setRequestHeader(i,head[i])}}else{mXMLHttpRequest.setRequestHeader('Content-type','application/x-www-form-urlencoded')};mXMLHttpRequest.send(data);mXMLHttpRequest.onloadend=function(){callback(true,JSON.parse(this.responseText))};mXMLHttpRequest.onerror=function(){callback(false,'')}}
